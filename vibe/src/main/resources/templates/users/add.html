<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Information Form</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="/css/profile.css">
<link rel="stylesheet" href="/css/home.css">
<script src="https://kit.fontawesome.com/a02c21629a.js" crossorigin="anonymous"></script>

</head>
<body>
    <nav class="navbar">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a href="/users/login" class="nav-link">
                    <i class="fa-solid fa-house fa-2xl"></i>
                    <br>
                    <span class="barlink-text">Home</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="/users/profile" class="nav-link">
                    <i class="fa-solid fa-circle-user fa-2xl"></i>
                    <br>
                    <span class="barlink-text">Profile</span>
                </a>
            </li>
            <li>
                <a href="/users/announcements" class="nav-link">
                    <i class="fa-solid fa-scroll fa-2xl"></i>
                    <br>
                    <span class="barlink-text">Bulletin</span>
                </a>
            </li>
            <div class="nav-items-bottom">
                <li class="nav-item">
                    <a href="/feedback.html" class="nav-link">
                        <i class="fa-regular fa-star fa-2xl"></i>
                        <br>
                        <span class="barlink-text">Feedback</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/team.html" class="nav-link">
                        <i class="fa-solid fa-people-group fa-2xl"></i>
                        <br>
                        <span class="barlink-text">Team</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/privacypolicy.html" class="nav-link">
                        <i class="fa-solid fa-shield-halved fa-2xl"></i>
                        <br>
                        <span class="barlink-text">Privacy</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/logout" class="nav-link">
                        <i class="fa-solid fa-right-from-bracket fa-2xl"></i>
                        <br>
                        <span class="barlink-text">Logout</span>
                    </a>
                </li>
            </div>
        </ul>
    </nav>

<div class="container-wrapper">
    <div class="container">
        <h2>User Information Form</h2>
        <form action="/submit-user-info" method="post" enctype="multipart/form-data">
            <div class="group">
                <div th:each="username:${username}">
                    <input type="hidden" class ="info" id="username" name="username" th:value="${username.name}"></a>
                </div> 
               
                <label for="cityName" >City Name</label><br>
                <input type="text"  class="info"id="cityName" name="cityName" required>

                <label for="instrument" >Instrument</label><br>
                <input type="text"  class="info" id="instrument" name="instrument" required>

                <label for="age" >Age</label><br>
                <input type="number"  class="info" id="age" name="age" required>

                <label for="genres" >Genres</label><br>
                <input type="text" class = "info" id="genres" name="genres" required>

                <label for="skilllevel" >skilllevel</label><br>
                <input type="text" class = "info" id="skilllevel" name="skilllevel" required>

                <label for="top3Artist" class = "info">Top 3 Artist</label><br>
                <input type="text"  id="top1Artist" name="top1Artist" required>
                <input type="text"  id="top2Artist" name="top2Artist" required> 
                <input type="text" id="top3Artist" name="top3Artist" required> 
                
                <div class="profileimage">
                    <img src="/img/profile.png" id="profile-pic"><br>
                    <label for="userImage" class = "uploadimage">Upload Image</label>
                    <input type="file" class = "imagefile" accept ="image/jpeg, image/png, image/jpg"  id="userImage" name="image"> 
                </div>



                <label for="host">Host:</label>
                <select  id="host" name="host">
                    <option value="true" selected >Yes</option>
                    <option value="false" >No </option>
                </select> 

            <!-- need to add a post mapping for the submit button, to encode the photo to byte array  -->
            <button type="submit" class="btn btn-primary" >Submit</button>
        </div>
        </form>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js">
</script>

        
<script>
    let pic = document.getElementById("profile-pic");
    let inputfile = document.getElementById("userImage");
    inputfile.onchange = function(){
        pic.src = URL.createObjectURL(inputfile.files[0]);
    }
</script>
</body>
</html> 
